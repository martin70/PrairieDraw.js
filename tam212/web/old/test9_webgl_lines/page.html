<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Test Page</title>
<script src="./gl-matrix.js"></script>
</head>
<body>

<script id="vert" type="x-shader/x-vertex">
attribute vec3 aVertexPosition;
attribute vec4 aVertexColor;
attribute vec3 aVertexNormal;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

varying vec4 vColor;

void main(void) {
float ambient = 0.3;
float diffuse = 0.7 * max(0.0, dot(vec4(1, 0, 1, 0), uMVMatrix * vec4(aVertexNormal, 0.0)));
gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
vColor = aVertexColor * (ambient + diffuse);
vColor[3] = 1.0;
}
</script>

<script id="frag" type="x-shader/x-fragment">
precision mediump float;

varying vec4 vColor;

void main(void) {
gl_FragColor = vColor;
}
</script>

<canvas id="test" width="400" height="400"></canvas>
<script src="./driver.js"></script>

</body>
</html>
